<html><head><script src="/bower_components/emitter.js/emitter.js"></script>
<script>var PlayerFactory=function(){function n(n){function o(){t(),e()}function t(){y=new(window.AudioContext||window.webkitAudioContext)}function e(){var o=new XMLHttpRequest;o.open("GET",n,!0),o.responseType="arraybuffer",o.onload=function(){y.decodeAudioData(o.response,p,w)},o.send()}function i(){"closed"===y.state?o():u()}function u(){v=r(),v.connect(y.destination),v.buffer=g,E=!1,D?(A=Date.now()-D,v.start(0,D/1e3)):(A=Date.now(),v.start(0))}function r(){var n=y.createBufferSource();return n.onended=function(){E||(a(),l.trigger("song:finished"))},n}function c(){v&&v.stop(0),D=Date.now()-A,E=!0}function f(){D=0,E=!1,a()}function a(){s(),d()}function s(){v&&(v.stop(0),v=void 0)}function d(){y&&"closed"!==y.state&&y.close()}function p(n){g=n,i()}function w(n){console.log("onBufferError",n)}var l,y,g,v,A,D,E;return o(),l=window.Emitter({load:e,play:i,pause:c,stop:f})}function o(n){l=n,t(),i()}function t(){w=0,y=e()}function e(){return"string"==typeof l&&(l=[l]),l}function i(){d(),u()}function u(){var n=f();n?c(n):r()}function r(){t(),p.trigger("playlist:finished")}function c(o){g=n(o),g.on("song:finished",function(){setTimeout(function(){u()},200)})}function f(){return y[w++]}function a(){g&&g.pause()}function s(){g&&g.play()}function d(){g&&g.stop(),t()}var p,w,l,y,g;return p=window.Emitter({load:o,play:s,pause:a,stop:d})};window.App=window.App||{},window.App.PlayerFactory=window.App.PlayerFactory||PlayerFactory;</script>
</head><body></body></html>